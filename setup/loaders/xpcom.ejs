const EXPORTED_SYMBOLS = <%- JSON.stringify(EXPORTED_SYMBOLS) %>;
const zotero_require = require;
const [<%- EXPORTED_SYMBOLS.join(', ') %>] = (() => {
  var exports = {};
  var module = { exports };
  function require(modulename) {
    <% if (external.length) { %>
    if (<%- JSON.stringify(external) %>.includes(modulename)) return zotero_require(modulename)
    <% } %>
    return ChromeUtils.import(modulename)
  }

<%- javascript %>

  return [<%- EXPORTED_SYMBOLS.join(', ') %>];
})();
