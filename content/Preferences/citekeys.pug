vbox
  label(bbt:preference='extensions.zotero.translators.better-bibtex.citekeyFormat') &better-bibtex.Preferences.citekey.format;
  textbox#id-better-bibtex-preferences-citekeyFormat(
    flex='1'
    rows=1
    onfocus="this.setAttribute('rows', '5'); Zotero.BetterBibTeX.PrefPane.getCitekeyFormat(event.target); showNew();"
    onblur="this.setAttribute('rows', '1'); Zotero.BetterBibTeX.PrefPane.saveCitekeyFormat(event.target); showNew();"
    oninput="Zotero.BetterBibTeX.PrefPane.checkCitekeyFormat(event.target); showNew();"
    onkeypress="setTimeout(function() { Zotero.BetterBibTeX.PrefPane.checkCitekeyFormat(event.target); showNew() }, 1);"
    multiline='true'
  )

  label#id-better-bibtex-label-citekeyFormatNew &better-bibtex.Preferences.citekey.format.new;
  textbox#id-better-bibtex-preferences-citekeyFormatNew(
    flex='1'
    rows=1
    readonly='true'
    multiline='true'
    onfocus="if (this.value) this.setAttribute('rows', '5')"
    onblur="this.setAttribute('rows', '1')"
  )

  label#id-better-bibtex-label-citekeyFormatBackup(bbt:preference="extensions.zotero.translators.better-bibtex.citekeyFormatBackup") &better-bibtex.Preferences.citekey.format.backup;
  textbox#id-better-bibtex-preferences-citekeyFormatBackup(
    preference='extensions.zotero.translators.better-bibtex.citekeyFormatBackup'
    flex='1'
    rows=1
    readonly='true'
    multiline='true'
    onfocus="if (this.value) this.setAttribute('rows', '5')"
    onblur="this.setAttribute('rows', '1')"
  )
checkbox(preference="extensions.zotero.translators.better-bibtex.citekeyFold" label="&better-bibtex.Preferences.citekey.fold;")
checkbox(preference="extensions.zotero.translators.better-bibtex.citekeySearch" label="&better-bibtex.Preferences.citekey.search;")
hbox
  label(bbt:preference="extensions.zotero.translators.better-bibtex.autoPinDelay") &better-bibtex.Preferences.citekey.autoPinDelay;
  scale(min=0 max=30 flex=2 preference="extensions.zotero.translators.better-bibtex.autoPinDelay")
  textbox(preference='extensions.zotero.translators.better-bibtex.autoPinDelay' size=2 rows=1 readonly='true')
  label &better-bibtex.seconds;
  hbox(flex='5')

groupbox(style='margin-bottom: 10px')
  caption(label="&better-bibtex.Preferences.citekey.uniqueness;")
  // <description>&better-bibtex.Preferences.citekey.uniqueness.pin.description;</description>
  hbox
    label(bbt:preference="extensions.zotero.translators.better-bibtex.keyScope") &better-bibtex.Preferences.citekey.uniqueness.scope;
    menulist(preference="extensions.zotero.translators.better-bibtex.keyScope")
      menupopup
        menuitem(label="&better-bibtex.Preferences.citekey.uniqueness.scope.global;" value="global")
        menuitem(label="&better-bibtex.Preferences.citekey.uniqueness.scope.library;" value="library")
  hbox
    label(bbt:preference="extensions.zotero.translators.better-bibtex.keyConflictPolicy") &better-bibtex.Preferences.citekey.uniqueness.conflict;
    menulist(preference="extensions.zotero.translators.better-bibtex.keyConflictPolicy")
      menupopup
        menuitem(label="&better-bibtex.Preferences.citekey.uniqueness.conflict.change;" value="change")
        menuitem(label="&better-bibtex.Preferences.citekey.uniqueness.conflict.keep;" value="keep")

groupbox
  caption(label="&better-bibtex.Preferences.advanced.ideographs;")
  checkbox(preference="extensions.zotero.translators.better-bibtex.kuroshiro" label="&better-bibtex.Preferences.advanced.ideographs.kuroshiro;")
  checkbox(preference="extensions.zotero.translators.better-bibtex.jieba" label="&better-bibtex.Preferences.advanced.ideographs.jieba;")
hbox
  label(bbt:preference="extensions.zotero.translators.better-bibtex.warnBulkModify") &better-bibtex.Preferences.bulkWarning;
  textbox(size="5" preference="extensions.zotero.translators.better-bibtex.warnBulkModify")
hbox
  button#rescan-citekeys.hidden(label="&better-bibtex.Preferences.rescan-citekeys;" oncommand="Zotero.BetterBibTeX.PrefPane.rescanCitekeys()")
